System.register("chunks:///_virtual/debug-view-runtime-control.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var e,o,i,n,s,l,r,a,g,h,p,c,C,d,m,u,L;return{setters:[function(t){e=t.applyDecoratedDescriptor,o=t.inheritsLoose,i=t.initializerDefineProperty,n=t.assertThisInitialized},function(t){s=t.cclegacy,l=t._decorator,r=t.Node,a=t.Color,g=t.Canvas,h=t.UITransform,p=t.instantiate,c=t.Label,C=t.RichText,d=t.Toggle,m=t.Button,u=t.director,L=t.Component}],execute:function(){var f,M,b,v,T,S,x,E,I;s._RF.push({},"b2bd1+njXxJxaFY3ymm06WU","debug-view-runtime-control",void 0);var A=l.ccclass,y=l.property;t("DebugViewRuntimeControl",(f=A("internal.DebugViewRuntimeControl"),M=y(r),b=y(r),v=y(r),f((x=e((S=function(t){function e(){for(var e,o=arguments.length,s=new Array(o),l=0;l<o;l++)s[l]=arguments[l];return e=t.call.apply(t,[this].concat(s))||this,i(e,"compositeModeToggle",x,n(e)),i(e,"singleModeToggle",E,n(e)),i(e,"EnableAllCompositeModeButton",I,n(e)),e._single=0,e.strSingle=["No Single Debug","Vertex Color","Vertex Normal","Vertex Tangent","World Position","Vertex Mirror","Face Side","UV0","UV1","UV Lightmap","Project Depth","Linear Depth","Fragment Normal","Fragment Tangent","Fragment Binormal","Base Color","Diffuse Color","Specular Color","Transparency","Metallic","Roughness","Specular Intensity","IOR","Direct Diffuse","Direct Specular","Direct All","Env Diffuse","Env Specular","Env All","Emissive","Light Map","Shadow","AO","Fresnel","Direct Transmit Diffuse","Direct Transmit Specular","Env Transmit Diffuse","Env Transmit Specular","Transmit All","Direct Internal Specular","Env Internal Specular","Internal All","Fog"],e.strComposite=["Direct Diffuse","Direct Specular","Env Diffuse","Env Specular","Emissive","Light Map","Shadow","AO","Normal Map","Fog","Tone Mapping","Gamma Correction","Fresnel","Transmit Diffuse","Transmit Specular","Internal Specular","TT"],e.strMisc=["CSM Layer Coloration","Lighting With Albedo"],e.compositeModeToggleList=[],e.singleModeToggleList=[],e.miscModeToggleList=[],e.textComponentList=[],e.labelComponentList=[],e.textContentList=[],e.hideButtonLabel=void 0,e._currentColorIndex=0,e.strColor=["<color=#ffffff>","<color=#000000>","<color=#ff0000>","<color=#00ff00>","<color=#0000ff>"],e.color=[a.WHITE,a.BLACK,a.RED,a.GREEN,a.BLUE],e}o(e,t);var s=e.prototype;return s.start=function(){if(this.node.parent.getComponent(g)){var t=this.node.parent.getComponent(h),e=.5*t.width,o=.5*t.height,i=.1*e-e,n=o-.1*o,s=this.node.getChildByName("MiscMode"),l=p(s);l.parent=this.node,l.name="Buttons";var r=p(s);r.parent=this.node,r.name="Titles";for(var u=0;u<2;u++){var L=p(this.EnableAllCompositeModeButton.getChildByName("Label"));L.setPosition(i+(u>0?450:150),n,0),L.setScale(.75,.75,.75),L.parent=r;var f=L.getComponent(c);f.string=u?"----------Composite Mode----------":"----------Single Mode----------",f.color=a.WHITE,f.overflow=0,this.labelComponentList[this.labelComponentList.length]=f}n-=20;for(var M=0,b=0;b<this.strSingle.length;b++,M++){b===this.strSingle.length>>1&&(i+=200,M=0);var v=b?p(this.singleModeToggle):this.singleModeToggle;v.setPosition(i,n-20*M,0),v.setScale(.5,.5,.5),v.parent=this.singleModeToggle.parent;var T=v.getComponentInChildren(C);T.string=this.strSingle[b],this.textComponentList[this.textComponentList.length]=T,this.textContentList[this.textContentList.length]=T.string,v.on(d.EventType.TOGGLE,this.toggleSingleMode,this),this.singleModeToggleList[b]=v}i+=200,this.EnableAllCompositeModeButton.setPosition(i+15,n,0),this.EnableAllCompositeModeButton.setScale(.5,.5,.5),this.EnableAllCompositeModeButton.on(m.EventType.CLICK,this.enableAllCompositeMode,this),this.EnableAllCompositeModeButton.parent=l;var S=this.EnableAllCompositeModeButton.getComponentInChildren(c);this.labelComponentList[this.labelComponentList.length]=S;var x=p(this.EnableAllCompositeModeButton);x.setPosition(i+90,n,0),x.setScale(.5,.5,.5),x.on(m.EventType.CLICK,this.changeTextColor,this),x.parent=l,(S=x.getComponentInChildren(c)).string="TextColor",this.labelComponentList[this.labelComponentList.length]=S;var E=p(this.EnableAllCompositeModeButton);E.setPosition(i+200,n,0),E.setScale(.5,.5,.5),E.on(m.EventType.CLICK,this.hideUI,this),E.parent=this.node.parent,(S=E.getComponentInChildren(c)).string="Hide UI",this.labelComponentList[this.labelComponentList.length]=S,this.hideButtonLabel=S,n-=40;for(var I=0;I<this.strMisc.length;I++){var A=p(this.compositeModeToggle);A.setPosition(i,n-20*I,0),A.setScale(.5,.5,.5),A.parent=s;var y=A.getComponentInChildren(C);y.string=this.strMisc[I],this.textComponentList[this.textComponentList.length]=y,this.textContentList[this.textContentList.length]=y.string,A.getComponent(d).isChecked=!!I,A.on(d.EventType.TOGGLE,I?this.toggleLightingWithAlbedo:this.toggleCSMColoration,this),this.miscModeToggleList[I]=A}n-=150;for(var D=0;D<this.strComposite.length;D++){var B=D?p(this.compositeModeToggle):this.compositeModeToggle;B.setPosition(i,n-20*D,0),B.setScale(.5,.5,.5),B.parent=this.compositeModeToggle.parent;var w=B.getComponentInChildren(C);w.string=this.strComposite[D],this.textComponentList[this.textComponentList.length]=w,this.textContentList[this.textContentList.length]=w.string,B.on(d.EventType.TOGGLE,this.toggleCompositeMode,this),this.compositeModeToggleList[D]=B}}else console.error("debug-view-runtime-control should be child of Canvas")},s.isTextMatched=function(t,e){var o=new String(t),i=o.search(">");return-1===i?t===e:(o=(o=o.substr(i+1)).substr(0,o.search("<")))===e},s.toggleSingleMode=function(t){for(var e=u.root.debugView,o=t.getComponentInChildren(C),i=0;i<this.strSingle.length;i++)this.isTextMatched(o.string,this.strSingle[i])&&(e.singleMode=i)},s.toggleCompositeMode=function(t){for(var e=u.root.debugView,o=t.getComponentInChildren(C),i=0;i<this.strComposite.length;i++)this.isTextMatched(o.string,this.strComposite[i])&&e.enableCompositeMode(i,t.isChecked)},s.toggleLightingWithAlbedo=function(t){u.root.debugView.lightingWithAlbedo=t.isChecked},s.toggleCSMColoration=function(t){u.root.debugView.csmLayerColoration=t.isChecked},s.enableAllCompositeMode=function(t){var e=u.root.debugView;e.enableAllCompositeMode(!0);for(var o=0;o<this.compositeModeToggleList.length;o++){this.compositeModeToggleList[o].getComponent(d).isChecked=!0}var i=this.miscModeToggleList[0].getComponent(d);i.isChecked=!1,e.csmLayerColoration=!1,(i=this.miscModeToggleList[1].getComponent(d)).isChecked=!0,e.lightingWithAlbedo=!0},s.hideUI=function(t){var e=this.node.getChildByName("Titles"),o=!e.active;this.singleModeToggleList[0].parent.active=o,this.miscModeToggleList[0].parent.active=o,this.compositeModeToggleList[0].parent.active=o,this.EnableAllCompositeModeButton.parent.active=o,e.active=o,this.hideButtonLabel.string=o?"Hide UI":"Show UI"},s.changeTextColor=function(t){this._currentColorIndex++,this._currentColorIndex>=this.strColor.length&&(this._currentColorIndex=0);for(var e=0;e<this.textComponentList.length;e++)this.textComponentList[e].string=this.strColor[this._currentColorIndex]+this.textContentList[e]+"</color>";for(var o=0;o<this.labelComponentList.length;o++)this.labelComponentList[o].color=this.color[this._currentColorIndex]},s.onLoad=function(){},s.update=function(t){},e}(L)).prototype,"compositeModeToggle",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=e(S.prototype,"singleModeToggle",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=e(S.prototype,"EnableAllCompositeModeButton",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=S))||T));s._RF.pop()}}}));

System.register("chunks:///_virtual/FirebaseBridge.ts",["./rollupPluginModLoBabelHelpers.js","cc","./index.esm.js","./index-77658911.js","./index.esm2017.js","./index.esm20174.js","./tslib.es6.mjs","./index.esm20172.js","./NotifyKeyMap.ts"],(function(e){var t,n,r,a,s,c,u,i,o,p,f,l,h,v,d,w,m;return{setters:[function(e){t=e.asyncToGenerator,n=e.regeneratorRuntime},function(e){r=e.cclegacy},null,function(e){a=e.ab,s=e.o},function(e){c=e.initializeApp},null,null,function(e){u=e.getDatabase,i=e.push,o=e.child,p=e.ref,f=e.onValue,l=e.off,h=e.get,v=e.set,d=e.update,w=e.remove},function(e){m=e.default}],execute:function(){r._RF.push({},"9da97V+ThJO6L2yvpEIYDX+","FirebaseBridge",void 0);var x={},y=u(c({apiKey:"AIzaSyAc5PRwmE14gBH5az8TSoqs9aBrQ8YWa4o",authDomain:"fir-test-756e1.firebaseapp.com",databaseURL:"https://fir-test-756e1.firebaseio.com",projectId:"fir-test-756e1",storageBucket:"fir-test-756e1.appspot.com",messagingSenderId:"182531440628"}));function g(){return(g=t(n().mark((function e(t,r){var c;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,a(s(),t,r);case 3:return c=e.sent,e.abrupt("return",c.user.uid);case 7:throw e.prev=7,e.t0=e.catch(0),new Error("登入失敗: "+e.t0.message);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function b(e){return k.apply(this,arguments)}function k(){return(k=t(n().mark((function e(t){var r;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,h(p(y,t));case 3:return r=e.sent,e.abrupt("return",r.val());case 7:throw e.prev=7,e.t0=e.catch(0),new Error("讀取失敗: "+e.t0.message);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function B(e,t){return E.apply(this,arguments)}function E(){return(E=t(n().mark((function e(t,r){return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,v(p(y,t),r);case 3:e.next=8;break;case 5:throw e.prev=5,e.t0=e.catch(0),new Error("寫入失敗: "+e.t0.message);case 8:case"end":return e.stop()}}),e,null,[[0,5]])})))).apply(this,arguments)}function P(e,t,n){return T.apply(this,arguments)}function T(){return(T=t(n().mark((function e(t,r,a){var s;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s={},t.forEach((function(e){return s[e+"/"+r]=a})),e.prev=2,e.next=5,d(p(y),s);case 5:e.next=10;break;case 7:throw e.prev=7,e.t0=e.catch(2),new Error("更新失敗: "+e.t0.message);case 10:case"end":return e.stop()}}),e,null,[[2,7]])})))).apply(this,arguments)}function j(e){return D.apply(this,arguments)}function D(){return(D=t(n().mark((function e(t){return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,w(p(y,t));case 3:e.next=8;break;case 5:throw e.prev=5,e.t0=e.catch(0),new Error("刪除失敗: "+e.t0.message);case 8:case"end":return e.stop()}}),e,null,[[0,5]])})))).apply(this,arguments)}var R,I,K,A,F;e("firebaseUtils",{login:function(e,t){return g.apply(this,arguments)},getPostKey:function(){return i(o(p(y),"posts")).key||""},read:(F=t(n().mark((function e(t,r){return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b("BTP/D/"+t+"/"+r);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),function(e,t){return F.apply(this,arguments)}),write:(A=t(n().mark((function e(t,r,a){return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,B("BTP/D/"+t+"/"+r,a);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),function(e,t,n){return A.apply(this,arguments)}),clear:(K=t(n().mark((function e(t,r){return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j("BTP/D/"+t+"/"+r);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),function(e,t){return K.apply(this,arguments)}),addNotifyKeyMap:function(e,t,n){x[e]?x[e].some((function(t,r){return t.scope===n&&(x[e].splice(r,1),!0)})):x[e]=[],x[e].push(new m(n,t))},removeNotifyKeyMap:function(e,t){var n=x[e];if(n){var r=n.findIndex((function(e){return e.scope===t}));r>-1&&n.splice(r,1),0===n.length&&delete x[e]}},listen:function(e,t,n,r){void 0===r&&(r="");var a="BTP/C/"+t+"/"+r+"/"+n;e?function(e,t,n){void 0===n&&(n=!1),f(p(y,e),(function(e){var n=e.val();n&&t(n)}),{onlyOnce:n})}(a,(function(e){return function(e,t){var n,r=t,a="",s=t.indexOf(" ");s>0&&(r=t.slice(0,s),a=t.slice(s+1)),null==(n=x[e])||n.forEach((function(t){return t.onReceive(e,r,a)}))}(t,e)})):function(e){l(p(y,e))}(a)},applicate:(I=t(n().mark((function e(t,r,a){var s,c;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return void 0===a&&(a=""),s=["BTP/C/"+t],c=a?r+" "+a:r,e.next=5,P(s,"Applicate",c);case 5:case"end":return e.stop()}}),e)}))),function(e,t,n){return I.apply(this,arguments)}),broadcast:(R=t(n().mark((function e(t,r,a,s){var c,u;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return void 0===a&&(a=""),void 0===s&&(s=[]),c=s.map((function(e){return"BTP/C/"+t+"/"+e})),u=a?r+" "+a:r,e.next=6,P(c,"Broadcast",u);case 6:case"end":return e.stop()}}),e)}))),function(e,t,n,r){return R.apply(this,arguments)})});r._RF.pop()}}}));

System.register("chunks:///_virtual/KLineCartDisplay.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var i,t,n,r,o,a,s,c,l,h,p,u,L,g,d;return{setters:[function(e){i=e.applyDecoratedDescriptor,t=e.inheritsLoose,n=e.initializerDefineProperty,r=e.assertThisInitialized},function(e){o=e.cclegacy,a=e._decorator,s=e.Graphics,c=e.Node,l=e.UITransform,h=e.size,p=e.instantiate,u=e.Color,L=e.v3,g=e.Label,d=e.Component}],execute:function(){var f,b,m,C,v,y,P,k,w,N,D,I,S;o._RF.push({},"bc5e8yHY49AOb6e/j5+dXFO","KLineCartDisplay",void 0);var F=a.ccclass,R=a.property;e("KLineCartDisplay",(f=F("KLineCartDisplay"),b=R(s),m=R(c),C=R(c),v=R(c),y=R(c),f((w=i((k=function(e){function i(){for(var i,t=arguments.length,o=new Array(t),a=0;a<t;a++)o[a]=arguments[a];return i=e.call.apply(e,[this].concat(o))||this,n(i,"graphics",w,r(i)),n(i,"linePrefab",N,r(i)),n(i,"chartNode",D,r(i)),n(i,"tickPriceLineNode",I,r(i)),n(i,"timelinelsRoot",S,r(i)),i.klineData=[],i.bollingerBands={},i.fibonacciLevels={},i.ticketPrice=0,i.entryPrice=0,i.chartWidth=760,i.cartLines={},i}t(i,e);var o=i.prototype;return o.setSize=function(e){this.chartWidth=e,this.chartNode.getComponent(l).setContentSize(h(this.chartWidth,500));var i=this.tickPriceLineNode.parent,t=this.node.parent.getComponent(l).width+240;this.createLineNode("sellingLine",t,2,i),this.createLineNode("buyingLine",t,2,i),this.createLineNode("topLine",t,2,i),this.createLineNode("bottomLine",t,2,i),this.createLineNode("entryLine",t,2,i),this.tickPriceLineNode.getComponent(l).setContentSize(h(t,2))},o.createLineNode=function(e,i,t,n){var r=p(this.linePrefab);r.parent=n,r.name=e,r.active=!0,r.getComponent(l).setContentSize(h(i,t)),this.cartLines[e]=r},o.updateTicketPrice=function(e){this.ticketPrice=e,this.klineData[this.klineData.length-1].close=e},o.setKlineData=function(e){var i=JSON.parse(e);this.klineData=i.map((function(e){return{time:e[0].toString(),open:parseFloat(e[1]),high:parseFloat(e[2]),low:parseFloat(e[3]),close:parseFloat(e[4])}}))},o.setStockData=function(e){var i=JSON.parse(e);this.entryPrice=i.entryPrice,this.bollingerBands=i.bollingerBands,this.fibonacciLevels=i.fibonacciLevels,this.updateTicketPrice(i.currentPrice)},o.drawCart=function(){var e=this.getPriceRange(this.klineData,this.bollingerBands,this.fibonacciLevels),i=e.min,t=e.max,n=e.range,r=this.chartWidth;this.graphics.clear(),this.drawStockRange(this.graphics,this.fibonacciLevels,i,t,n,r,500),this.drawKLineChart(this.graphics,this.klineData,i,n,r,500),this.setStockPriceLabelsAndPosition(this.bollingerBands,this.fibonacciLevels,t,i,n,500)},o.getPriceRange=function(e,i,t){var n=Number.MAX_VALUE,r=Number.MIN_VALUE;e.forEach((function(e){e.high>r&&(r=e.high),e.low<n&&(n=e.low)}));var o=i.upper,a=i.lower,s=t["76.4%"],c=t["23.6%"];return r=Math.max(r,o,s),{min:n=Math.min(n,a,c),max:r,range:r-n}},o.drawKLineChart=function(e,i,t,n,r,o){var a=r/i.length,s=o/n;this.drawTimeLabels(i,r,a),i.forEach((function(i,n){var r=n*a,o=(i.high-t)*s,c=(i.low-t)*s,l=(i.open-t)*s,h=(i.close-t)*s,p=i.close<i.open?u.RED:u.GREEN;e.moveTo(r+a/2,o),e.lineTo(r+a/2,c),e.strokeColor=p,e.stroke(),e.fillColor=p;var L=Math.abs(h-l);e.rect(r+a/4-.15*a,Math.min(l,h),.7*a,L),e.fill()}))},o.drawStockRange=function(e,i,t,n,r,o,a){var s=a/r;this.entryPrice&&(e.rect(0,0,o,(this.entryPrice-t)*s),e.fillColor=new u(120,92,0,255),e.fill());var c=i["76.4%"],l=(i["61.8%"],i["38.2%"],i["23.6%"]);e.rect(0,(c-t)*s,o,(n-c)*s),e.fillColor=new u(120,0,0,80),e.fill(),e.rect(0,0,o,(l-t)*s),e.fillColor=new u(0,120,0,80),e.fill()},o.setStockPriceLabelsAndPosition=function(e,i,t,n,r,o){var a=o/r,s=e.upper;this.cartLines.topLine.position=L(0,(s-n)*a),this.cartLines.topLine.getComponentInChildren(g).string=s.toFixed(8),this.cartLines.topLine.getComponentInChildren(g).color=u.RED;var c=e.lower;this.cartLines.bottomLine.position=L(0,(c-n)*a),this.cartLines.bottomLine.getComponentInChildren(g).string=c.toFixed(8),this.cartLines.bottomLine.getComponentInChildren(g).color=u.GREEN;var l=i["76.4%"];this.cartLines.sellingLine.position=L(0,(l-n)*a),this.cartLines.sellingLine.getComponentInChildren(g).string=l.toFixed(8);var h=i["23.6%"];this.cartLines.buyingLine.position=L(0,(h-n)*a),this.cartLines.buyingLine.getComponentInChildren(g).string=h.toFixed(8),this.ticketPrice&&(this.tickPriceLineNode.position=L(0,(this.ticketPrice-n)*a),this.tickPriceLineNode.getComponentInChildren(g).string=this.ticketPrice.toString()),this.entryPrice?(this.cartLines.entryLine.active=!0,this.cartLines.entryLine.position=L(0,(this.entryPrice-n)*a),this.cartLines.entryLine.getComponentInChildren(g).string=this.entryPrice.toFixed(8),this.cartLines.entryLine.getComponentInChildren(g).color=new u(255,255,0,255)):this.cartLines.entryLine.active=!1},o.drawTimeLabels=function(e,i,t){var n=this.timelinelsRoot.children,r=n.length-1,o=e.length,a=Math.floor(o/r),s=i/o,c=0;e.forEach((function(e,i){if(i%a==0||i===o-1){var r=i*s,l=new Date(parseInt(e.time,10)),h=("0"+l.getHours()).slice(-2)+":"+("0"+l.getMinutes()).slice(-2)+"\n"+l.getFullYear()+"-"+(l.getMonth()+1)+"-"+l.getDate();n[c].position=L(r+t/2,10),n[c].getComponentInChildren(g).string=h,c++}}))},i}(d)).prototype,"graphics",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),N=i(k.prototype,"linePrefab",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=i(k.prototype,"chartNode",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=i(k.prototype,"tickPriceLineNode",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),S=i(k.prototype,"timelinelsRoot",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=k))||P));o._RF.pop()}}}));

System.register("chunks:///_virtual/KLineChartControl.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var n,r,o,e;return{setters:[function(t){n=t.inheritsLoose},function(t){r=t.cclegacy,o=t._decorator,e=t.Component}],execute:function(){var i;r._RF.push({},"259db/Hh5tBFY3kHzgOipEK","KLineChartControl",void 0);var c=o.ccclass;o.property,t("KLineChartControl",c("KLineChartControl")(i=function(t){function r(){return t.apply(this,arguments)||this}return n(r,t),r}(e))||i);r._RF.pop()}}}));

System.register("chunks:///_virtual/LoginPanel.ts",["./rollupPluginModLoBabelHelpers.js","cc","./TradeController.ts","./TradeHandler.ts"],(function(t){var i,o,e,n,r,l,a,s,d,u,c;return{setters:[function(t){i=t.applyDecoratedDescriptor,o=t.inheritsLoose,e=t.initializerDefineProperty,n=t.assertThisInitialized},function(t){r=t.cclegacy,l=t._decorator,a=t.Node,s=t.EditBox,d=t.Component},function(t){u=t.TradeController},function(t){c=t.TradeHandler}],execute:function(){var p,g,h,f,B,v,x,y,E,m,b,w,I,D,C,z,P,L,_,H,S;r._RF.push({},"9ea4e8ov79GtIBF25bwKP9T","LoginPanel",void 0);var T=l.ccclass,R=l.property;t("LoginPanel",(p=T("LoginPanel"),g=R(a),h=R(a),f=R(s),B=R(s),v=R(s),x=R(s),y=R(s),E=R(a),m=R(a),p((I=i((w=function(t){function i(){for(var i,o=arguments.length,r=new Array(o),l=0;l<o;l++)r[l]=arguments[l];return i=t.call.apply(t,[this].concat(r))||this,e(i,"tradeHandler",I,n(i)),e(i,"tradeController",D,n(i)),e(i,"mailEditBox",C,n(i)),e(i,"passwordEditBox",z,n(i)),e(i,"verifyCodeEditBox",P,n(i)),e(i,"roomIDEditBox",L,n(i)),e(i,"playerIDEditBox",_,n(i)),e(i,"loginButton",H,n(i)),e(i,"logoutButton",S,n(i)),i.handler=null,i.controller=null,i}o(i,t);var r=i.prototype;return r.start=function(){this.controller=this.tradeController.getComponent(u),this.handler=this.tradeHandler.getComponent(c);var t=localStorage.getItem("login_session");if("null"!==t){var i=JSON.parse(t);this.login(i.id,i.pw,i.vc,i.rid,i.pid),this.mailEditBox.string=i.id,this.passwordEditBox.string=i.pw,this.verifyCodeEditBox.string=i.vc,this.roomIDEditBox.string=i.rid,this.playerIDEditBox.string=i.pid}else this.logoutButton.active=!1},r.show=function(t){void 0===t&&(t=!0),this.node.active=t},r.login=function(t,i,o,e,n){this.controller.RoomID=e,this.controller.PlayerID=n,this.controller.login(t,i,o),this.handler.RoomID=e,this.handler.PlayerID=n,this.handler.connect(),localStorage.setItem("login_session",JSON.stringify({id:t,pw:i,vc:o,rid:e,pid:n})),this.mailEditBox.node.active=!1,this.passwordEditBox.node.active=!1,this.verifyCodeEditBox.node.active=!1,this.roomIDEditBox.node.active=!1,this.playerIDEditBox.node.active=!1,this.loginButton.active=!1,this.logoutButton.active=!0},r.logout=function(){this.handler.disconnect(),localStorage.setItem("login_session",null),this.mailEditBox.node.active=!0,this.passwordEditBox.node.active=!0,this.verifyCodeEditBox.node.active=!0,this.roomIDEditBox.node.active=!0,this.playerIDEditBox.node.active=!0,this.loginButton.active=!0,this.logoutButton.active=!1},r.onLoginClicked=function(){this.login(this.mailEditBox.string,this.passwordEditBox.string,this.verifyCodeEditBox.string,this.roomIDEditBox.string,this.playerIDEditBox.string)},r.onLogoutClicked=function(){this.logout()},i}(d)).prototype,"tradeHandler",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=i(w.prototype,"tradeController",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=i(w.prototype,"mailEditBox",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=i(w.prototype,"passwordEditBox",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=i(w.prototype,"verifyCodeEditBox",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=i(w.prototype,"roomIDEditBox",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=i(w.prototype,"playerIDEditBox",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),H=i(w.prototype,"loginButton",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),S=i(w.prototype,"logoutButton",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),b=w))||b));r._RF.pop()}}}));

System.register("chunks:///_virtual/main",["./debug-view-runtime-control.ts","./LoginPanel.ts","./MainScene.ts","./KLineCartDisplay.ts","./KLineChartControl.ts","./TradeHandler.ts","./StockManager.ts","./SymbolTitle.ts","./OrderTickets.ts","./StockPanel.ts","./TicketItem.ts","./TradeController.ts","./FirebaseBridge.ts","./NotifyKeyMap.ts"],(function(){return{setters:[null,null,null,null,null,null,null,null,null,null,null,null,null,null],execute:function(){}}}));

System.register("chunks:///_virtual/MainScene.ts",["./rollupPluginModLoBabelHelpers.js","cc","./TradeHandler.ts"],(function(n){var e,i,t,o,r,a,c,l,s;return{setters:[function(n){e=n.applyDecoratedDescriptor,i=n.inheritsLoose,t=n.initializerDefineProperty,o=n.assertThisInitialized},function(n){r=n.cclegacy,a=n._decorator,c=n.Node,l=n.Component},function(n){s=n.TradeHandler}],execute:function(){var u,d,p,f,h,b,g;r._RF.push({},"99bf61LJxhN+bJG5MmhWW23","MainScene",void 0);var v=a.ccclass,y=a.property;n("MainScene",(u=v("MainScene"),d=y(c),p=y(c),u((b=e((h=function(n){function e(){for(var e,i=arguments.length,r=new Array(i),a=0;a<i;a++)r[a]=arguments[a];return e=n.call.apply(n,[this].concat(r))||this,t(e,"tradeHandler",b,o(e)),t(e,"loginPanel",g,o(e)),e}i(e,n);var r=e.prototype;return r.start=function(){var n=this;this.loginPanel.active=!0,window.onbeforeunload=function(){n.onDisconnect()},document.onvisibilitychange=function(){switch(document.visibilityState){case"hidden":n.onDisconnect();break;case"visible":n.loginPanel.active=!0}}},r.onDisconnect=function(){this.tradeHandler.getComponent(s).disconnect()},r.onLogoutClicked=function(){this.loginPanel.active=!0},e}(l)).prototype,"tradeHandler",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),g=e(h.prototype,"loginPanel",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),f=h))||f));r._RF.pop()}}}));

System.register("chunks:///_virtual/NotifyKeyMap.ts",["cc"],(function(t){var c;return{setters:[function(t){c=t.cclegacy}],execute:function(){c._RF.push({},"db36f0jLBNGdKaY/EI+SCYg","NotifyKeyMap",void 0);t("default",function(){function t(t,c){this.scope=null,this.callbackMap={},this.scope=t,this.callbackMap=c}return t.prototype.onReceive=function(t,c,e){var a=this.callbackMap[c];if(a)try{a.call(this.scope,t,c,e)}catch(t){console.error("執行回調時錯誤: "+t.message)}},t}());c._RF.pop()}}}));

System.register("chunks:///_virtual/OrderTickets.ts",["./rollupPluginModLoBabelHelpers.js","cc","./TicketItem.ts"],(function(t){var e,i,r,n,c,o,a,s,u,l,p,f;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,r=t.initializerDefineProperty,n=t.assertThisInitialized,c=t.createClass},function(t){o=t.cclegacy,a=t._decorator,s=t.Node,u=t.instantiate,l=t.Layout,p=t.Component},function(t){f=t.TicketItem}],execute:function(){var k,y,h,d,v;o._RF.push({},"fa677oq9ptK55zaYKX6E3wl","OrderTickets",void 0);var T=a.ccclass,g=a.property;t("OrderTickets",(k=T("OrderTickets"),y=g(s),k((v=e((d=function(t){function e(){for(var e,i=arguments.length,c=new Array(i),o=0;o<i;o++)c[o]=arguments[o];return e=t.call.apply(t,[this].concat(c))||this,r(e,"layout",v,n(e)),e.tickets=null,e}return i(e,t),e.prototype.updateTickets=function(){var t=this,e=this.layout.children,i=e[0];e.forEach((function(t){return t.active=!1})),this.tickets&&Object.keys(this.tickets).forEach((function(r,n){var c=e[n];c||((c=u(i)).parent=t.layout),c.active=!0;var o=c.getComponent(f);o.ID=r,o.Ticket=t.tickets[r]})),this.layout.getComponent(l).updateLayout()},c(e,[{key:"Tickets",set:function(t){this.tickets=t,this.updateTickets()}}]),e}(p)).prototype,"layout",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),h=d))||h));o._RF.pop()}}}));

System.register("chunks:///_virtual/StockManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./FirebaseBridge.ts","./SymbolTitle.ts","./KLineCartDisplay.ts","./OrderTickets.ts","./StockPanel.ts"],(function(e){var t,i,n,r,o,l,s,a,c,u,b,p,y,f,d,h,k,m;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,r=e.assertThisInitialized,o=e.asyncToGenerator,l=e.regeneratorRuntime},function(e){s=e.cclegacy,a=e._decorator,c=e.Node,u=e.ScrollView,b=e.Label,p=e.Component,y=e.Color},function(e){f=e.firebaseUtils},function(e){d=e.SymbolTitle},function(e){h=e.KLineCartDisplay},function(e){k=e.OrderTickets},function(e){m=e.StockPanel}],execute:function(){var S,g,L,T,w,v,P,x,z,C,D,F,O,R,B,E,j,M,I,K,N,Q,V,_,G,q,A;s._RF.push({},"6641cC42kpPPJ68YgzVMyrn","StockManager",void 0);var J=a.ccclass,H=a.property;e("StockManager",(S=J("StockManager"),g=H(d),L=H(m),T=H(c),w=H(c),v=H(u),P=H(c),x=H(b),z=H(b),C=H(b),D=H(b),F=H(b),O=H(b),S((E=t((B=function(e){function t(){for(var t,i=arguments.length,o=new Array(i),l=0;l<i;l++)o[l]=arguments[l];return t=e.call.apply(e,[this].concat(o))||this,n(t,"symbolTitle",E,r(t)),n(t,"stockPanel",j,r(t)),n(t,"loginPanel",M,r(t)),n(t,"klineCartDisplay",I,r(t)),n(t,"klineScrollView",K,r(t)),n(t,"orderTickets",N,r(t)),n(t,"symbolLabel",Q,r(t)),n(t,"actionLabel",V,r(t)),n(t,"trendLabel",_,r(t)),n(t,"rsiLabel",G,r(t)),n(t,"profitLossLabel",q,r(t)),n(t,"lessFundsLabel",A,r(t)),t.display=null,t.record=null,t}i(t,e);var s=t.prototype;return s.onLoad=function(){var e=this;this.node.on("setSymbolTitle",(function(t){t.propagationStopped=!0;var i=t.detail,n=i.baseSymbol,r=i.quoteSymbol;e.setSymbolTitle(n,r),e.setStockPanel(n,r)})),this.node.on("newSymbolTitle",(function(t){t.propagationStopped=!0;var i=t.detail,n=i.baseSymbol,r=i.quoteSymbol;e.stockPanel.setSymbol(n,r),e.stockPanel.setFunds(0),e.stockPanel.onExecuteSettings()}))},s.start=function(){this.display=this.klineCartDisplay.getComponent(h),this.display.setSize(1e3)},s.updateRecord=function(){var e=o(l().mark((function e(){var t,i;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.read("RECORD","GRID_TRADING");case 2:this.record=e.sent,t=this.record.stock,i=Object.keys(t)[0],this.symbolTitle.BaseSymbols=Object.keys(t[i]);case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),s.defaultSymbolTitle=function(){var e=o(l().mark((function e(){var t,i,n;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.record.stock,i=Object.keys(t)[0],n=Object.keys(t[i])[0],e.next=5,this.setSymbolTitle(n,i);case 5:this.setStockPanel(n,i),this.klineScrollView.scrollToRight(.5);case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),s.updateSymbolTitle=function(){var e=this.symbolTitle.Base,t=this.symbolTitle.Quote;this.setSymbolTitle(e,t),this.setStockPanel(e,t)},s.setSymbolTitle=function(){var e=o(l().mark((function e(t,i){var n,r,s,a,c,u,b,p,d,h,k,m,S,g,L,T,w,v,P,x=this;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=""+t+i,r=this.record,s=r.order,a=r.stock,this.symbolLabel.string=n,this.symbolTitle.Base=t,this.symbolTitle.Quote=i,c=s[i][t],u=0,b=0,c&&Object.keys(c).forEach((function(e){u+=c[e].quantity,b+=c[e].spent})),this.setTickets(c),p=a[i][t].funds,this.symbolTitle.setBaseQuanity(u.toFixed(6)),this.symbolTitle.setQuoteQuanity(p.toFixed(6)),this.lessFundsLabel.string=(p+b).toFixed(2)+" "+i,e.next=16,f.read("KLINE/"+n,"4hr");case 16:return d=e.sent,this.display.setKlineData(d),e.next=20,f.read("STOCK",n);case 20:h=e.sent,this.display.setStockData(h),this.display.drawCart(),k=JSON.parse(h),m=k.action,S=k.trend,g=k.rsi,L=k.entryPrice,T=k.currentPrice,this.actionLabel.string=m,this.trendLabel.string=S,this.rsiLabel.string="RSI "+g,L?(v=(w=T-L)*u,P=w>0?"+":"",this.profitLossLabel.string=""+P+v.toFixed(6)+" "+i+"\n("+P+(w/L*100).toFixed(2)+"%)",this.profitLossLabel.color=w>0?y.GREEN:y.RED,this.profitLossLabel.node.active=!0):(this.profitLossLabel.string="",this.profitLossLabel.node.active=!1),this.symbolTitle.onDropDownOutClicked(),this.stockPanel.setSymbol(t,i),this.stockPanel.setFunds(p),this.unscheduleAllCallbacks(),this.scheduleOnce(o(l().mark((function e(){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.updateRecord();case 2:x.updateSymbolTitle();case 3:case"end":return e.stop()}}),e)}))),300);case 33:case"end":return e.stop()}}),e,this)})));return function(t,i){return e.apply(this,arguments)}}(),s.setStockPanel=function(e,t){var i=this.record,n=i.stock,r=i.order;this.stockPanel.setOnlySellFlag(n[t][e].profit);var o=r[t][e];this.stockPanel.setBuyFlag(!o),this.loginPanel.active=!1},s.setTickets=function(e){this.orderTickets.getComponent(k).Tickets=e},s.onOrderBoardClicked=function(){this.stockPanel.clean(),this.stockPanel.menu()},t}(p)).prototype,"symbolTitle",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),j=t(B.prototype,"stockPanel",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),M=t(B.prototype,"loginPanel",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=t(B.prototype,"klineCartDisplay",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),K=t(B.prototype,"klineScrollView",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),N=t(B.prototype,"orderTickets",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Q=t(B.prototype,"symbolLabel",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),V=t(B.prototype,"actionLabel",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=t(B.prototype,"trendLabel",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),G=t(B.prototype,"rsiLabel",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),q=t(B.prototype,"profitLossLabel",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),A=t(B.prototype,"lessFundsLabel",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=B))||R));s._RF.pop()}}}));

System.register("chunks:///_virtual/StockPanel.ts",["./rollupPluginModLoBabelHelpers.js","cc","./TradeController.ts"],(function(t){var e,n,i,l,o,r,u,a,s,c,b;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,i=t.initializerDefineProperty,l=t.assertThisInitialized},function(t){o=t.cclegacy,r=t._decorator,u=t.Label,a=t.EditBox,s=t.Node,c=t.Component},function(t){b=t.TradeController}],execute:function(){var f,h,p,d,B,y,m,v,g,S,M,k,C,z,w,x,F,E,q,P,L,N,I,T,_,D,R,A,H,j,O,V,W,Z,G,J,K;o._RF.push({},"dab27BdH9FCyZ9Lizm99WVI","StockPanel",void 0);var Q=r.ccclass,U=r.property;t("StockPanel",(f=Q("StockPanel"),h=U(u),p=U(a),d=U(s),B=U(s),y=U(s),m=U(s),v=U(s),g=U(s),S=U(s),M=U(s),k=U(s),C=U(s),z=U(s),w=U(s),x=U(s),F=U(s),E=U(s),f((L=e((P=function(t){function e(){for(var e,n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return e=t.call.apply(t,[this].concat(o))||this,i(e,"symbolLabel",L,l(e)),i(e,"fundsEditBox",N,l(e)),i(e,"fillMenuBtn",I,l(e)),i(e,"pauseMenuBtn",T,l(e)),i(e,"resumeMenuBtn",_,l(e)),i(e,"profitMenuBtn",D,l(e)),i(e,"stopMenuBtn",R,l(e)),i(e,"ticketMenuBtn",A,l(e)),i(e,"executeBtn",H,l(e)),i(e,"fillBtn",j,l(e)),i(e,"profitBtn",O,l(e)),i(e,"stopBtn",V,l(e)),i(e,"bidBtn",W,l(e)),i(e,"askBtn",Z,l(e)),i(e,"onlySellFlag",G,l(e)),i(e,"buyFlag",J,l(e)),i(e,"tradeController",K,l(e)),e.controller=null,e.baseSymbol="",e.quoteSymbol="",e.funds=0,e}n(e,t);var o=e.prototype;return o.onLoad=function(){this.controller=this.tradeController.getComponent(b)},o.setSymbol=function(t,e){this.baseSymbol=t,this.quoteSymbol=e;var n=t+"/"+e;this.symbolLabel.string=n},o.setFunds=function(t){this.funds=t},o.clean=function(){this.fillMenuBtn.active=!1,this.pauseMenuBtn.active=!1,this.resumeMenuBtn.active=!1,this.profitMenuBtn.active=!1,this.stopMenuBtn.active=!1,this.ticketMenuBtn.active=!1,this.fundsEditBox.string="",this.fundsEditBox.placeholder=this.funds.toString(),this.fundsEditBox.node.active=!1,this.executeBtn.active=!1,this.fillBtn.active=!1,this.profitBtn.active=!1,this.stopBtn.active=!1,this.bidBtn.active=!1,this.askBtn.active=!1},o.menu=function(){this.ticketMenuBtn.active=!0,this.fillMenuBtn.active=!0,this.pauseMenuBtn.active=!0,this.node.active=!0},o.setOnlySellFlag=function(t){this.onlySellFlag.active=t},o.setBuyFlag=function(t){this.buyFlag.active=t},o.onCloseClicked=function(){this.clean(),this.node.active=!1},o.onExecuteSettings=function(){this.clean(),this.fundsEditBox.node.active=!0,this.executeBtn.active=!0,this.node.active=!0},o.onExecuteClicked=function(){var t=parseFloat(this.fundsEditBox.string);isNaN(t)||t<=0?console.error("Invalid funds"):(this.controller.execute(this.baseSymbol,this.quoteSymbol,t),this.clean(),this.node.active=!1)},o.onFillMenuClicked=function(){this.clean(),this.fundsEditBox.node.active=!0,this.fillBtn.active=!0},o.onFillClicked=function(){var t=parseFloat(this.fundsEditBox.string);isNaN(t)||t<=0?console.error("Invalid funds"):(this.controller.fill(this.baseSymbol,this.quoteSymbol,t),this.clean(),this.node.active=!1)},o.onPauseMenuClicked=function(){this.controller.pause(this.baseSymbol,this.quoteSymbol),this.clean(),this.resumeMenuBtn.active=!0,this.profitMenuBtn.active=!0,this.stopMenuBtn.active=!0},o.onResumeMenuClicked=function(){this.controller.resume(this.baseSymbol,this.quoteSymbol),this.clean(),this.menu()},o.onProfitMenuClicked=function(){this.clean(),this.profitBtn.active=!0},o.onProfitClicked=function(){this.controller.profit(this.baseSymbol,this.quoteSymbol),this.clean(),this.node.active=!1},o.onStopMenuClicked=function(){this.clean(),this.stopBtn.active=!0},o.onStopClicked=function(){this.controller.stop(this.baseSymbol,this.quoteSymbol),this.clean(),this.node.active=!1},o.onTicketMenuClicked=function(){this.clean(),this.bidBtn.active=!0,this.askBtn.active=!0},o.onBidClicked=function(){this.controller.bid(this.baseSymbol,this.quoteSymbol),this.clean(),this.node.active=!1},o.onAskClicked=function(){this.controller.ask(this.baseSymbol,this.quoteSymbol),this.clean(),this.node.active=!1},e}(c)).prototype,"symbolLabel",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),N=e(P.prototype,"fundsEditBox",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=e(P.prototype,"fillMenuBtn",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=e(P.prototype,"pauseMenuBtn",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=e(P.prototype,"resumeMenuBtn",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=e(P.prototype,"profitMenuBtn",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=e(P.prototype,"stopMenuBtn",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),A=e(P.prototype,"ticketMenuBtn",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),H=e(P.prototype,"executeBtn",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),j=e(P.prototype,"fillBtn",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),O=e(P.prototype,"profitBtn",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),V=e(P.prototype,"stopBtn",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),W=e(P.prototype,"bidBtn",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Z=e(P.prototype,"askBtn",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),G=e(P.prototype,"onlySellFlag",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),J=e(P.prototype,"buyFlag",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),K=e(P.prototype,"tradeController",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),q=P))||q));o._RF.pop()}}}));

System.register("chunks:///_virtual/SymbolTitle.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var e,i,o,n,s,a,l,r,b,u,c,h,y,m;return{setters:[function(t){e=t.inheritsLoose,i=t.applyDecoratedDescriptor,o=t.initializerDefineProperty,n=t.assertThisInitialized,s=t.createClass},function(t){a=t.cclegacy,l=t._decorator,r=t.Node,b=t.Label,u=t.EditBox,c=t.Event,h=t.instantiate,y=t.Button,m=t.Component}],execute:function(){var p,f,S,d,g,v,B,E,L,w,D,k,q,x,C,O,z,T,P;a._RF.push({},"fefee7azLVLdJ22ipH00agW","SymbolTitle",void 0);var Q=l.ccclass,_=l.property,M=t("StockEvent",function(t){function i(e,i,o){var n;return(n=t.call(this,e,i)||this).detail=null,n.detail=o,n}return e(i,t),i}(c));t("SymbolTitle",(p=Q("SymbolTitle"),f=_(r),S=_(b),d=_(b),g=_(b),v=_(b),B=_(r),E=_(r),L=_(u),p((k=i((D=function(t){function i(){for(var e,i=arguments.length,s=new Array(i),a=0;a<i;a++)s[a]=arguments[a];return e=t.call.apply(t,[this].concat(s))||this,o(e,"block",k,n(e)),o(e,"baseSymbolLabel",q,n(e)),o(e,"quoteSymbolLabel",x,n(e)),o(e,"basePriceLabel",C,n(e)),o(e,"quotePriceLabel",O,n(e)),o(e,"baseDropDownLayout",z,n(e)),o(e,"quoteDropDownLayout",T,n(e)),o(e,"baseEditBox",P,n(e)),e.baseSymbol="BASE_SYMBOL",e.quoteSymbol="QUOTE_SYMBOL",e.baseSymbols=[],e.isEditing=!1,e}e(i,t);var a=i.prototype;return a.start=function(){this.baseSymbolLabel.string=this.baseSymbol,this.quoteSymbolLabel.string=this.quoteSymbol,this.block.active=!1},a.setBaseQuanity=function(t){this.basePriceLabel.string=t},a.setQuoteQuanity=function(t){this.quotePriceLabel.string=t},a.selectBaseOption=function(t){var e=t.target.getComponent(b).string;this.Base=e,this.node.dispatchEvent(new M("setSymbolTitle",!0,{baseSymbol:this.Base,quoteSymbol:this.Quote}))},a.updateBaseSymbols=function(){var t=this,e=this.baseDropDownLayout.children;this.baseSymbols.forEach((function(i,o){var n=e[o];n||((n=h(e[0])).parent=t.baseDropDownLayout),n.active=!1,n.getComponent(y).node.off("click"),n.getComponent(y).node.on("click",t.selectBaseOption,t),n.getComponent(b).string=i}))},a.onBaseSymbolClicked=function(){var t=this;this.isEditing||(this.baseEditBox.string="",this.baseEditBox.node.active=this.isEditing=!0,this.baseDropDownLayout.children.forEach((function(e){return e.active=t.isEditing})),this.block.active=!0)},a.onBaseEditBoxEndEdit=function(){var t=this;if(""!==this.baseEditBox.string){var e=this.baseEditBox.string.toUpperCase();-1===this.baseSymbols.indexOf(e)&&this.node.dispatchEvent(new M("newSymbolTitle",!0,{baseSymbol:e,quoteSymbol:this.Quote})),this.onDropDownOutClicked()}else this.scheduleOnce((function(){t.onDropDownOutClicked()}),.5)},a.onDropDownOutClicked=function(){var t=this;this.baseEditBox.node.active=this.isEditing=!1,this.baseDropDownLayout.children.forEach((function(e){return e.active=t.isEditing})),this.block.active=!1},a.onNextBaseSymbolClicked=function(){var t=this.baseSymbols.indexOf(this.baseSymbol);this.Base=this.baseSymbols[(t+1)%this.baseSymbols.length],this.node.dispatchEvent(new M("setSymbolTitle",!0,{baseSymbol:this.Base,quoteSymbol:this.Quote})),this.block.active=!0},a.onPrevBaseSymbolClicked=function(){var t=this.baseSymbols.indexOf(this.baseSymbol);this.Base=this.baseSymbols[(t-1+this.baseSymbols.length)%this.baseSymbols.length],this.node.dispatchEvent(new M("setSymbolTitle",!0,{baseSymbol:this.Base,quoteSymbol:this.Quote})),this.block.active=!0},s(i,[{key:"Base",get:function(){return this.baseSymbol},set:function(t){this.baseSymbolLabel.string=this.baseSymbol=t,this.baseEditBox.placeholder=t}},{key:"Quote",get:function(){return this.quoteSymbol},set:function(t){this.quoteSymbolLabel.string=this.quoteSymbol=t}},{key:"BaseSymbols",get:function(){return this.baseSymbols},set:function(t){this.baseSymbols=t,this.updateBaseSymbols()}}]),i}(m)).prototype,"block",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),q=i(D.prototype,"baseSymbolLabel",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=i(D.prototype,"quoteSymbolLabel",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=i(D.prototype,"basePriceLabel",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),O=i(D.prototype,"quotePriceLabel",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=i(D.prototype,"baseDropDownLayout",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=i(D.prototype,"quoteDropDownLayout",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=i(D.prototype,"baseEditBox",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=D))||w));a._RF.pop()}}}));

System.register("chunks:///_virtual/TicketItem.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var t,i,n,r,l,a,c,o,s;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,r=e.assertThisInitialized,l=e.createClass},function(e){a=e.cclegacy,c=e._decorator,o=e.Label,s=e.Component}],execute:function(){var u,p,b,f,y,L,d;a._RF.push({},"47346+PmTdAQLLVlH+RD2W6","TicketItem",void 0);var h=c.ccclass,m=c.property;e("TicketItem",(u=h("TicketItem"),p=m(o),b=m(o),u((L=t((y=function(e){function t(){for(var t,i=arguments.length,l=new Array(i),a=0;a<i;a++)l[a]=arguments[a];return t=e.call.apply(e,[this].concat(l))||this,n(t,"idLabel",L,r(t)),n(t,"spentLabel",d,r(t)),t}return i(t,e),l(t,[{key:"ID",set:function(e){this.idLabel.string=e}},{key:"Ticket",set:function(e){this.spentLabel.string=e.spent.toFixed(2)}}]),t}(s)).prototype,"idLabel",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),d=t(y.prototype,"spentLabel",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),f=y))||f));a._RF.pop()}}}));

System.register("chunks:///_virtual/TradeController.ts",["./rollupPluginModLoBabelHelpers.js","cc","./FirebaseBridge.ts"],(function(e){var t,i,r,o,s,n,a,c;return{setters:[function(e){t=e.inheritsLoose,i=e.createClass,r=e.asyncToGenerator,o=e.regeneratorRuntime},function(e){s=e.cclegacy,n=e._decorator,a=e.Component},function(e){c=e.firebaseUtils}],execute:function(){var l;s._RF.push({},"46c6bRdImZDpr52wiM5J5p3","TradeController",void 0);var u=n.ccclass;n.property,e("TradeController",u("TradeController")(l=function(e){function s(){for(var t,i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))||this).roomID=null,t.playerID=null,t.isVerifyed=!1,t}t(s,e);var n=s.prototype;return n.start=function(){},n.login=function(){var e=r(o().mark((function e(t,i,r){var s;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.login(t,i);case 2:s=e.sent,console.log("login success",s),c.applicate(this.roomID,"verify",this.playerID+" "+r);case 5:case"end":return e.stop()}}),e,this)})));return function(t,i,r){return e.apply(this,arguments)}}(),n.execute=function(e,t,i){this.isVerifyed?c.applicate(this.roomID,"execute",this.playerID+" "+e+" "+t+" "+i):console.log("Please verify your account first.")},n.fill=function(e,t,i){this.isVerifyed?c.applicate(this.roomID,"fill",this.playerID+" "+e+" "+t+" "+i):console.log("Please verify your account first.")},n.pause=function(e,t){this.isVerifyed?c.applicate(this.roomID,"pause",this.playerID+" "+e+" "+t):console.log("Please verify your account first.")},n.resume=function(e,t){this.isVerifyed?c.applicate(this.roomID,"resume",this.playerID+" "+e+" "+t):console.log("Please verify your account first.")},n.profit=function(e,t){this.isVerifyed?c.applicate(this.roomID,"profit",this.playerID+" "+e+" "+t):console.log("Please verify your account first.")},n.stop=function(e,t){this.isVerifyed?c.applicate(this.roomID,"stop",this.playerID+" "+e+" "+t):console.log("Please verify your account first.")},n.bid=function(e,t){this.isVerifyed?c.applicate(this.roomID,"bid",this.playerID+" "+e+" "+t):console.log("Please verify your account first.")},n.ask=function(e,t){this.isVerifyed?c.applicate(this.roomID,"ask",this.playerID+" "+e+" "+t):console.log("Please verify your account first.")},n.tracking=function(){this.isVerifyed?c.applicate(this.roomID,"tracking",""+this.playerID):console.log("Please verify your account first.")},n.query=function(){c.applicate(this.roomID,"query",""+this.playerID)},n.quit=function(){c.applicate(this.roomID,"quit",""+this.playerID)},i(s,[{key:"RoomID",get:function(){return this.roomID},set:function(e){this.roomID=e}},{key:"PlayerID",get:function(){return this.playerID},set:function(e){this.playerID=e}},{key:"IsVerifyed",set:function(e){this.isVerifyed=e}}]),s}(a))||l);s._RF.pop()}}}));

System.register("chunks:///_virtual/TradeHandler.ts",["./rollupPluginModLoBabelHelpers.js","cc","./FirebaseBridge.ts","./StockManager.ts","./TradeController.ts"],(function(e){var t,r,n,s,a,c,i,o,u,l;return{setters:[function(e){t=e.inheritsLoose,r=e.createClass,n=e.asyncToGenerator,s=e.regeneratorRuntime},function(e){a=e.cclegacy,c=e._decorator,i=e.Component},function(e){o=e.firebaseUtils},function(e){u=e.StockManager},function(e){l=e.TradeController}],execute:function(){var f;a._RF.push({},"7b33bId2VNLkIJ4bdLeBOd9","TradeHandler",void 0);var p=c.ccclass;c.property,e("TradeHandler",p("TradeHandler")(f=function(e){function a(){for(var t,r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return(t=e.call.apply(e,[this].concat(n))||this).roomID=null,t.playerID=null,t.stockManager=null,t}t(a,e);var c=a.prototype;return c.onLoad=function(){this.stockManager=this.node.getComponent(u)},c.connect=function(){o.addNotifyKeyMap(this.RoomID,{verify:this.cmd_verify.bind(this),execute:this.cmd_execute.bind(this),fill:this.cmd_fill.bind(this),pause:this.cmd_pause.bind(this),resume:this.cmd_resume.bind(this),profit:this.cmd_profit.bind(this),stop:this.cmd_stop.bind(this),tracking:this.cmd_tracking.bind(this),query:this.cmd_query.bind(this),gaze:this.cmd_gaze.bind(this),pong:this.cmd_pong.bind(this)},this),o.listen(!0,this.RoomID,"Broadcast",this.playerID)},c.disconnect=function(){o.removeNotifyKeyMap(this.RoomID,this),o.listen(!1,this.RoomID,"Broadcast",this.playerID),o.applicate(this.roomID,"quit",this.playerID)},c.checkPlayerID=function(e){return this.playerID===e},c.cmd_verify=function(){var e=n(s().mark((function e(t,r,n){var a,c,i,u;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=n.split(" "),c=a[0],i=a[1],console.log("verify",c,i),this.checkPlayerID(c)){e.next=4;break}return e.abrupt("return");case 4:return u=this.node.parent.getComponentInChildren(l),"success"===i?u.IsVerifyed=!0:"fail"===i&&(u.IsVerifyed=!1),e.next=8,this.stockManager.updateRecord();case 8:this.stockManager.defaultSymbolTitle(),o.applicate(t,"ping",c);case 10:case"end":return e.stop()}}),e,this)})));return function(t,r,n){return e.apply(this,arguments)}}(),c.cmd_execute=function(){var e=n(s().mark((function e(t,r,n){var a,c,i,o,u,l,f,p,h;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=n.split(" "),c=a[0],i=a[1],this.checkPlayerID(c)){e.next=3;break}return e.abrupt("return");case 3:if("success"!==i){e.next=10;break}return o=a[2],u=a[3],e.next=7,this.stockManager.updateRecord();case 7:console.log(r,"success",o,u),e.next=11;break;case 10:"fail"===i&&(l=a[2],f=a[3],p=a[4],h=a[5],console.log(r,"fail",l,f,p,h));case 11:case"end":return e.stop()}}),e,this)})));return function(t,r,n){return e.apply(this,arguments)}}(),c.cmd_fill=function(){var e=n(s().mark((function e(t,r,n){var a,c,i,o,u,l,f;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=n.split(" "),c=a[0],i=a[1],this.checkPlayerID(c)){e.next=3;break}return e.abrupt("return");case 3:if("success"!==i){e.next=10;break}return e.next=6,this.stockManager.updateRecord();case 6:this.stockManager.updateSymbolTitle(),console.log(r,"success"),e.next=11;break;case 10:"fail"===i&&(o=a[2],u=a[3],l=a[4],f=a[5],console.log(r,"fail",o,u,l,f));case 11:case"end":return e.stop()}}),e,this)})));return function(t,r,n){return e.apply(this,arguments)}}(),c.cmd_pause=function(e,t,r){var n=r.split(" "),s=n[0],a=n[1];if(this.checkPlayerID(s))if("success"===a){var c=n[2],i=n[3];console.log(t,"success",c,i)}else if("fail"===a){var o=n[2];console.log(t,"fail",o)}},c.cmd_resume=function(){var e=n(s().mark((function e(t,r,n){var a,c,i,o,u,l;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=n.split(" "),c=a[0],i=a[1],this.checkPlayerID(c)){e.next=3;break}return e.abrupt("return");case 3:if("success"!==i){e.next=11;break}return o=a[2],u=a[3],e.next=7,this.stockManager.updateRecord();case 7:this.stockManager.updateSymbolTitle(),console.log(r,"success",o,u),e.next=12;break;case 11:"fail"===i&&(l=a[2],console.log(r,"fail",l));case 12:case"end":return e.stop()}}),e,this)})));return function(t,r,n){return e.apply(this,arguments)}}(),c.cmd_profit=function(){var e=n(s().mark((function e(t,r,n){var a,c,i,o,u,l;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=n.split(" "),c=a[0],i=a[1],this.checkPlayerID(c)){e.next=3;break}return e.abrupt("return");case 3:if("success"!==i){e.next=11;break}return o=a[2],u=a[3],e.next=7,this.stockManager.updateRecord();case 7:this.stockManager.updateSymbolTitle(),console.log(r,"success",o,u),e.next=12;break;case 11:"fail"===i&&(l=a[2],console.log(r,"fail",l));case 12:case"end":return e.stop()}}),e,this)})));return function(t,r,n){return e.apply(this,arguments)}}(),c.cmd_stop=function(){var e=n(s().mark((function e(t,r,n){var a,c,i,o,u,l;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=n.split(" "),c=a[0],i=a[1],this.checkPlayerID(c)){e.next=3;break}return e.abrupt("return");case 3:if("success"!==i){e.next=11;break}return o=a[2],u=a[3],e.next=7,this.stockManager.updateRecord();case 7:this.stockManager.defaultSymbolTitle(),console.log(r,"success",o,u),e.next=12;break;case 11:"fail"===i&&(l=a[2],console.log(r,"fail",l));case 12:case"end":return e.stop()}}),e,this)})));return function(t,r,n){return e.apply(this,arguments)}}(),c.cmd_tracking=function(e,t,r){var n=r.split(" "),s=n[0],a=n[1];if(this.checkPlayerID(s))if("success"===a);else if("fail"===a){var c=n[2];console.log("tracking fail",c)}},c.cmd_query=function(){var e=n(s().mark((function e(t,r,n){var a,c,i;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=n.split(" "),c=a[0],i=a[1],this.checkPlayerID(c)){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,this.stockManager.updateRecord();case 5:this.stockManager.updateSymbolTitle(),console.log("query",i),o.applicate(t,"ping",c);case 8:case"end":return e.stop()}}),e,this)})));return function(t,r,n){return e.apply(this,arguments)}}(),c.cmd_gaze=function(e,t,r){var n=r.split(" "),s=n[0],a=n[1];if(this.checkPlayerID(s))if("success"===a){var c=n[2],i=n[3];console.log(t,"success",c,i)}else if("fail"===a){var o=n[2];console.log(t,"fail",o)}},c.cmd_pong=function(e,t,r){},r(a,[{key:"RoomID",get:function(){return this.roomID},set:function(e){this.roomID=e}},{key:"PlayerID",get:function(){return this.playerID},set:function(e){this.playerID=e}}]),a}(i))||f);a._RF.pop()}}}));

(function(r) {
  r('virtual:///prerequisite-imports/main', 'chunks:///_virtual/main'); 
})(function(mid, cid) {
    System.register(mid, [cid], function (_export, _context) {
    return {
        setters: [function(_m) {
            var _exportObj = {};

            for (var _key in _m) {
              if (_key !== "default" && _key !== "__esModule") _exportObj[_key] = _m[_key];
            }
      
            _export(_exportObj);
        }],
        execute: function () { }
    };
    });
});